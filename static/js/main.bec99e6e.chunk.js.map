{"version":3,"sources":["components/singleCountryChart.js","redux/actions/actionTypes.js","components/drawer.js","components/visualize.js","components/helper.js","components/Maps.js","App.js","serviceWorker.js","redux/reducer/visualizeReducer.js","redux/reducer/plotReducer.js","redux/reducer/singleCountryReducer.js","redux/reducer/index.js","redux/store.js","index.js"],"names":["CountryChart","dispatch","useDispatch","countries","useSelector","state","visualizeData","useState","Object","keys","sort","countryArr","singleCountryData","singleCountryPlot","setSingleCountryPlot","currentCountry","country","currentType","type","dateDiff","xaxisDateDiff","CRD","scatterType","apply","setApply","useEffect","console","log","payload","term","length","update","plot","data","layout","title","xaxis","frames","config","getKey","cases","deaths","recovered","active","new_confirmed","new_deaths","new_recovered","date","colors","includes","forEach","el","xaxisDate","yAxisData","x","y","name","marker","color","push","dtick","automargin","text","standoff","autorange","rangeselector","buttons","count","label","step","stepmode","rangeslider","range","pieDateSingle","dateArr","values","labels","markers","arr","dateIndex","indexOf","val","pop","texttemplate","textinfo","textposition","modifySingleCountry","optionsArray","Menu","closeOnSelect","mt","as","Button","variantColor","size","minWidth","maxHeight","overflowY","MenuOption","onChange","value","reverse","defaultValue","map","key","toLowerCase","position","el_lowercase","arg","split","setScatter","Text","NumberInput","placeholder","Box","selected","moment","defaultFormat","toDate","undefined","dateFormat","format","minDate","dateRange","maxDate","includeDates","placeholderText","DrawerOption","useDisclosure","isOpen","onOpen","onClose","btnRef","React","useRef","option","setoption","ref","pos","bottom","left","onClick","zIndex","leftIcon","Drawer","placement","isFullHeight","flexDirection","display","alignItems","justifyContent","Select","e","target","Alert","status","switchOption","variant","mr","fetchData","url","a","api","axios","get","response","message","Graph","plotData","plotReducer","countryData","addData","getData","then","obj","province","timeline","new_api_func","keys_arr","countryObj","timelineArr","timelineObj","dataByDate","Spinner","thickness","speed","emptyColor","barmode","autosize","width","window","innerWidth","height","innerHeight","displayModeBar","displaylogo","scrollZoom","responsive","useResizeHandler","style","toImageButtonOptions","scale","mapEffect","geoData","Array","isArray","geoJson","features","countryInfo","lat","lng","long","properties","geometry","coordinates","Maps","updateData","asyncfun","className","Map","center","zoom","TileLayer","attribution","prop","Date","updated","lastUpdated","fromNow","Marker","icon","L","iconUrl","iconSize","Popup","src","flag","alt","todayCases","App","activeComp","setActiveComp","ThemeProvider","CSSReset","d","bg","href","Boolean","location","hostname","match","initialState","visualizeReducer","action","images","source","xref","yref","sizex","sizey","opacity","layer","pieDateType","singleCountryReducer","combineReducers","middleWare","thunk","store","createStore","reducer","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.bec99e6e.chunk.js","sourcesContent":["import {\n  Button,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuDivider,\n  MenuOptionGroup,\n  MenuItemOption,\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n  Text,\n  Box,\n} from '@chakra-ui/core'\nimport React, { useState, useEffect, Fragment } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actionTypes from '../redux/actions/actionTypes'\nimport moment from 'moment'\nimport DatePicker from 'react-datepicker'\nimport 'react-datepicker/dist/react-datepicker.css'\n\nconst CountryChart = () => {\n  const dispatch = useDispatch()\n  const countries = useSelector((state) => state.visualizeData)\n  const [countryArr] = useState(Object.keys(countries).sort())\n  const singleCountryData = useSelector((state) => state.singleCountryData)\n\n  const [singleCountryPlot, setSingleCountryPlot] = useState({})\n  const currentCountry = singleCountryData.country\n  const currentType = singleCountryData.type\n  const dateDiff = singleCountryData.xaxisDateDiff\n  const CRD = singleCountryData.CRD\n  const scatterType = singleCountryData.scatterType\n  const [apply, setApply] = useState(false)\n  const modifySingleCountry = (term) => {\n    if (term === 'CRD') {\n      if (CRD.length) {\n        console.log('waaaaaaaah')\n        let update = false\n        const plot = {\n          data: [],\n          layout: {\n            title: currentCountry + ' ' + currentType + ' chart',\n            xaxis: {},\n          },\n          frames: [],\n          config: {},\n        }\n        const getKey = {\n          cases: 'confirmed',\n          deaths: 'deaths',\n          recovered: 'recovered',\n          active: 'active',\n          new_confirmed: 'new_confirmed',\n          new_deaths: 'new_deaths',\n          new_recovered: 'new_recovered',\n          date: 'date',\n        }\n        const colors = {\n          cases: '#E33427',\n          deaths: '#5A0924',\n          recovered: '#09D32C',\n          active: '#10AAC0',\n          new_confirmed: '#3E08E0',\n          new_deaths: '#78BBD9',\n          new_recovered: '#98AAC0',\n        }\n\n        if (['scatter', 'bar'].includes(currentType)) {\n          CRD.forEach((el) => {\n            const xaxisDate = countries[currentCountry]['timeline']['date']\n            const yAxisData = countries[currentCountry]['timeline'][getKey[el]]\n            const data = {\n              type: currentType,\n              x: xaxisDate,\n              y: yAxisData,\n              name: el,\n              marker: {\n                color: colors[el],\n              },\n            }\n\n            if (currentType === 'scatter') {\n              data['mode'] = scatterType[el] ? scatterType[el] : 'lines'\n            }\n            plot.data.push(data)\n            update = true\n          })\n          plot.layout.xaxis = {\n            dtick: singleCountryData.xaxisDateDiff * 86400000,\n            automargin: true,\n            title: {\n              text: 'Timeline',\n              standoff: 5,\n            },\n            autorange: true,\n            rangeselector: {\n              buttons: [\n                {\n                  count: 1,\n                  label: '1m',\n                  step: 'month',\n                  stepmode: 'backward',\n                },\n                {\n                  count: 3,\n                  label: '3m',\n                  step: 'month',\n                  stepmode: 'backward',\n                },\n                {\n                  count: 6,\n                  label: '6m',\n                  step: 'month',\n                  stepmode: 'backward',\n                },\n                { step: 'all' },\n              ],\n            },\n            rangeslider: { range: [] },\n            type: 'date',\n          }\n        }\n        if (currentType === 'pie') {\n          const pieDateSingle = singleCountryData.pieDateSingle\n          if (CRD.length && pieDateSingle) {\n            const dateArr = countries[currentCountry]['timeline']['date']\n            const values = []\n            const labels = []\n            const markers = []\n            CRD.forEach((el) => {\n              const arr = countries[currentCountry]['timeline'][getKey[el]]\n              const dateIndex = dateArr.indexOf(pieDateSingle)\n              const val = pieDateSingle ? arr[dateIndex] : arr.pop()\n              values.push(val)\n              labels.push(el)\n              markers.push(colors[el])\n            })\n            const data = {\n              type: currentType,\n              values: values,\n              labels: labels,\n              marker: {\n                colors: markers,\n              },\n              texttemplate: '%{label}: %{value} (%{percent})',\n              textinfo: 'label+percent',\n              textposition: 'outside',\n              automargin: true,\n            }\n            plot.data.push(data)\n            plot.layout.title =\n              plot.layout.title +\n              ' as on ' +\n              (pieDateSingle ? pieDateSingle : dateArr.pop())\n            update = true\n          }\n        }\n        if (update) setSingleCountryPlot(plot)\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (singleCountryData.country && apply) {\n      console.log('sing c and apply')\n      dispatch({ type: actionTypes.SET_PLOT, payload: singleCountryPlot })\n      setApply(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [singleCountryPlot])\n  useEffect(() => {\n    console.log('modify useeffect')\n    modifySingleCountry('CRD')\n    setApply(true)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [singleCountryData])\n  const setScatter = (arg) => {\n    const arr = arg.split('-')\n    dispatch({\n      type: actionTypes.SET_singleCountry_scatterType,\n      payload: { ...scatterType, [arr[0]]: arr[1] },\n    })\n  }\n  const optionsArray = ['Cases', 'Deaths', 'Recovered', 'Active']\n  return (\n    <>\n      <Menu closeOnSelect={true}>\n        <MenuButton mt={2} as={Button} variantColor='blue' size='md'>\n          Select country\n        </MenuButton>\n        <MenuList minWidth='240px' maxHeight='70vh' overflowY='scroll'>\n          <MenuOptionGroup\n            title='Country'\n            type='radio'\n            onChange={(value) => {\n              dispatch({ type: actionTypes.SET_singleCountry, payload: value })\n              dispatch({\n                type: actionTypes.SET_singleCountry_dateRange,\n                payload: Object.keys(\n                  countries[value]['timeline']['dataByDate']\n                ).reverse(),\n              })\n            }}\n            defaultValue={currentCountry}\n          >\n            {countryArr.map((el) => {\n              return (\n                <MenuItemOption key={el} value={el}>\n                  {el}\n                </MenuItemOption>\n              )\n            })}\n          </MenuOptionGroup>\n        </MenuList>\n      </Menu>\n      {currentCountry ? (\n        <>\n          <Menu closeOnSelect={true}>\n            <MenuButton mt={2} as={Button} variantColor='blue' size='md'>\n              Select type\n            </MenuButton>\n            <MenuList minWidth='240px'>\n              <MenuOptionGroup\n                title='type'\n                type='radio'\n                onChange={(value) =>\n                  dispatch({\n                    type: actionTypes.SET_singleCountry_type,\n                    payload: value,\n                  })\n                }\n                defaultValue={currentType}\n              >\n                {['Bar', 'Scatter', 'Pie'].map((el) => {\n                  return (\n                    <MenuItemOption\n                      key={el.toLowerCase()}\n                      value={el.toLowerCase()}\n                    >\n                      {el}\n                    </MenuItemOption>\n                  )\n                })}\n              </MenuOptionGroup>\n            </MenuList>\n          </Menu>\n          {currentType ? (\n            <>\n              <Menu closeOnSelect={false}>\n                <MenuButton mt={2} as={Button} variantColor='blue' size='md'>\n                  Add to graph\n                </MenuButton>\n                <MenuList minWidth='240px'>\n                  <MenuOptionGroup\n                    title='Select one or more'\n                    type='checkbox'\n                    onChange={(value) =>\n                      dispatch({\n                        type: actionTypes.SET_singleCountry_CRD,\n                        payload: value,\n                      })\n                    }\n                    defaultValue={CRD}\n                  >\n                    {optionsArray.map((el) => {\n                      return (\n                        <MenuItemOption\n                          key={el.toLowerCase()}\n                          value={el.toLowerCase()}\n                        >\n                          {el}\n                        </MenuItemOption>\n                      )\n                    })}\n                  </MenuOptionGroup>\n                </MenuList>\n              </Menu>\n              {currentType === 'scatter' && CRD.length ? (\n                <Menu closeOnSelect={false}>\n                  <MenuButton mt={2} as={Button} variantColor='blue' size='md'>\n                    Modes\n                  </MenuButton>\n                  <MenuList minWidth='240px' position='relative'>\n                    {optionsArray.map((el) => {\n                      const el_lowercase = el.toLowerCase()\n                      return CRD.includes(el_lowercase) ? (\n                        <Fragment key={el + 'modeFragment'}>\n                          <MenuOptionGroup\n                            key={el + 'modes'}\n                            title={el}\n                            type='radio'\n                            defaultValue={\n                              el_lowercase + '-' + scatterType[el_lowercase]\n                            }\n                            onChange={(value) => setScatter(value)}\n                          >\n                            <MenuItemOption\n                              key={el_lowercase + '-markers'}\n                              value={el_lowercase + '-markers'}\n                            >\n                              Markers\n                            </MenuItemOption>\n                            <MenuItemOption\n                              key={el_lowercase + '-lines'}\n                              value={el_lowercase + '-lines'}\n                            >\n                              Lines\n                            </MenuItemOption>\n                            <MenuItemOption\n                              key={el_lowercase + '-lines+markers'}\n                              value={el_lowercase + '-lines+markers'}\n                            >\n                              Lines + Markers\n                            </MenuItemOption>\n                          </MenuOptionGroup>\n                          <MenuDivider key={el + 'divider'} />\n                        </Fragment>\n                      ) : null\n                    })}\n                  </MenuList>\n                </Menu>\n              ) : null}\n              {['bar', 'scatter'].includes(currentType) && CRD.length ? (\n                <>\n                  <Text color='gray.500' mt={2}>\n                    Select spacing between date on xaxis\n                  </Text>\n                  <NumberInput\n                    mt={2}\n                    defaultValue={dateDiff}\n                    onChange={(value) =>\n                      dispatch({\n                        type: actionTypes.SET_singleCountry_xaxisDateDiff,\n                        payload: value,\n                      })\n                    }\n                  >\n                    <NumberInputField type='number' placeholder='Default' />{' '}\n                    <NumberInputStepper>\n                      <NumberIncrementStepper />\n                      <NumberDecrementStepper />\n                    </NumberInputStepper>\n                  </NumberInput>\n                </>\n              ) : null}\n              {currentType === 'pie' && CRD.length ? (\n                <>\n                  <Box mt={2}>\n                    <DatePicker\n                      {...(singleCountryData.pieDateSingle\n                        ? {\n                            selected: moment(\n                              singleCountryData.pieDateSingle,\n                              moment.defaultFormat\n                            ).toDate(),\n                          }\n                        : undefined)}\n                      dateFormat='dd/MM/yyyy'\n                      onChange={(date) =>\n                        dispatch({\n                          type: actionTypes.SET_singleCountry_pieDateSingle,\n                          payload: moment(date).format('YYYY-MM-DD'),\n                        })\n                      }\n                      minDate={moment(\n                        singleCountryData.dateRange[0],\n                        moment.defaultFormat\n                      ).toDate()}\n                      maxDate={moment(\n                        singleCountryData.dateRange[\n                          singleCountryData.dateRange.length - 1\n                        ],\n                        moment.defaultFormat\n                      ).toDate()}\n                      includeDates={singleCountryData.dateRange.map((el) =>\n                        moment(el, moment.defaultFormat).toDate()\n                      )}\n                      placeholderText='Select a date'\n                    />\n                  </Box>\n                </>\n              ) : null}\n            </>\n          ) : null}\n        </>\n      ) : null}\n    </>\n  )\n}\n\nexport default CountryChart\n","export const SET_DATA = 'SET_API_DATA'\n\nexport const SET_PLOT = 'SET_PLOT'\n\nexport const SET_SingleCountryData = 'SET_SingleCountryData'\nexport const SET_singleCountry = 'SET_SINGLE_COUNTRY'\n\nexport const SET_singleCountry_type = 'SET_SINGLE_COUNTRY_TYPE'\n\nexport const SET_singleCountry_CRD = 'SET_SINGLE_COUNTRY_CRD'\n\nexport const SET_singleCountry_scatterType = 'SET_SINGLE_COUNTRY_scatterType'\n\nexport const SET_singleCountry_pieDateSingle =\n  'SET_SINGLE_COUNTRY_pieDateSingle'\n\nexport const SET_singleCountry_dateRange = 'SET_SINGLE_COUNTRY_dateRange'\n\nexport const SET_singleCountry_xaxisDateDiff =\n  'SET_SINGLE_COUNTRY_xaxisDateDiff'\n","import {\n  Drawer,\n  DrawerBody,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerOverlay,\n  DrawerContent,\n  // DrawerCloseButton,\n  Button,\n  Select,\n  useDisclosure,\n  Box,\n  Alert,\n  AlertIcon,\n} from '@chakra-ui/core'\n\nimport React, { useState } from 'react'\nimport CountryChart from './singleCountryChart'\n\nconst DrawerOption = () => {\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  const btnRef = React.useRef()\n\n  const [option, setoption] = useState('')\n\n  const switchOption = (value) => {\n    switch (value) {\n      case 'country-chart':\n        return (\n          <>\n            <CountryChart key='country-chart' />\n          </>\n        )\n      case 'compare-countries':\n        return (\n          <Alert status='info' mt={2}>\n            <AlertIcon />\n            Compare Countries feature is coming soon!\n          </Alert>\n        )\n      default:\n        return\n    }\n  }\n\n  return (\n    <>\n      <Button\n        ref={btnRef}\n        pos='absolute'\n        bottom='10%'\n        left='1%'\n        variantColor='teal'\n        onClick={onOpen}\n        zIndex={100}\n        key='menu-button'\n        leftIcon='edit'\n      >\n        Create\n      </Button>\n      <Drawer\n        isOpen={isOpen}\n        placement='left'\n        onClose={onClose}\n        isFullHeight={true}\n        key='drawer-content'\n      >\n        <DrawerOverlay />\n        <DrawerContent>\n          <DrawerHeader>Create your chart</DrawerHeader>\n          <DrawerBody>\n            <Box\n              flexDirection='column'\n              display='flex'\n              alignItems='baseline'\n              justifyContent='space-between'\n            >\n              <Select\n                placeholder='Select option'\n                onChange={(e) => setoption(e.target.value)}\n                defaultValue={option}\n              >\n                <option value='country-chart'>Country Chart</option>\n                <option value='compare-countries'>Compare Countries</option>\n              </Select>\n              {switchOption(option)}\n            </Box>\n          </DrawerBody>\n\n          <DrawerFooter>\n            <Button variant='outline' mr={3} onClick={onClose}>\n              Close\n            </Button>\n          </DrawerFooter>\n        </DrawerContent>\n      </Drawer>\n    </>\n  )\n}\n\nexport default DrawerOption\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Heading, Text, Link, Icon, Box, Spinner } from '@chakra-ui/core'\nimport DrawerOption from './drawer'\nimport DesktopVisualizerLeft from './desktopVisualizerLeft'\nimport Plot from 'react-plotly.js'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as actionTypes from '../redux/actions/actionTypes'\n\nasync function fetchData(url) {\n  const historical = 'https://corona.lmao.ninja/v2/historical?lastdays=all'\n  const corona_api = 'https://corona-api.com/countries?include=timeline'\n  try {\n    const api = url === 'old' ? historical : corona_api\n    let response = await axios.get(api)\n    // console.log(response.data);\n    return response.data\n  } catch (e) {\n    console.log(`Failed to fetch countries: ${e.message}`, e)\n    return\n  }\n}\n\nexport default function Graph() {\n  const dispatch = useDispatch()\n  const plotData = useSelector((state) => state.plotReducer.plotData)\n  const [countryData, addData] = useState(null)\n\n  const getData = async () => {\n    const data = await fetchData('new').then((data) => data)\n    await console.log(data)\n    let obj = {}\n    const old_api_func = () => {\n      data.forEach((el) => {\n        let country = el.country\n        let province = el.province\n        let timeline = el.timeline\n        if (province) {\n          // console.log('province :', country, province, obj)\n          obj[country] = { ...obj[country] }\n          obj[country]['province'] = { ...obj[country]['province'] }\n\n          obj[country]['province'][province] = { province, timeline }\n        } else obj[country] = timeline\n      })\n    }\n    const new_api_func = () => {\n      data.data.forEach((el) => {\n        let country = el.name\n        let keys_arr = Object.keys(el)\n        let countryObj = {}\n        keys_arr.forEach((key) => {\n          if (key === 'timeline') {\n            let timelineArr = el[key]\n            let timelineObj = {}\n            const dataByDate = {}\n            let keys = timelineArr[1] ? Object.keys(timelineArr[1]) : null\n            if (keys)\n              keys.forEach((key) => {\n                timelineObj[key] = timelineArr\n                  .map((obj) => {\n                    if (key === 'date') {\n                      dataByDate[obj.date] = obj\n                    }\n                    return obj[key]\n                  })\n                  .reverse()\n              })\n            timelineObj['dataByDate'] = dataByDate\n            countryObj[key] = timelineObj\n          } else countryObj[key] = el[key]\n        })\n        obj[country] = { ...countryObj }\n      })\n    }\n    await new_api_func()\n    await addData(obj)\n    dispatch({ type: actionTypes.SET_DATA, payload: obj })\n  }\n\n  useEffect(() => {\n    console.log('calling get data useffect')\n    getData()\n  }, [])\n\n  return (\n    <>\n      {countryData ? (\n        <DrawerOption key='drawer-option' />\n      ) : (\n        <>\n          'Fetching Data'\n          <Spinner\n            thickness='4px'\n            speed='0.65s'\n            emptyColor='gray.200'\n            color='blue.500'\n            size='xl'\n          />\n        </>\n      )}\n      <Plot\n        data={plotData.data}\n        layout={{\n          ...plotData.layout,\n          type: 'date',\n          barmode: 'group',\n          autosize: true,\n          width: window.innerWidth * 0.75,\n          height: window.innerHeight * 0.96,\n          // margin: {\n          //   l: 50,\n          //   r: 50,\n          //   b: 100,\n          //   t: 100,\n          //   pad: 4,\n          // },\n        }}\n        // frames={this.state.frames}\n        config={{\n          ...plotData.config,\n          displayModeBar: true,\n          displaylogo: false,\n          scrollZoom: true,\n          responsive: true,\n          useResizeHandler: true,\n          style: { width: '100%', height: '100%' },\n          toImageButtonOptions: {\n            format: 'jpeg',\n            scale: 3,\n          },\n        }}\n        // onInitialized={figure => this.setState(figure)}\n        // onUpdate={figure => this.setState(figure)}\n      />\n    </>\n  )\n}\n","import axios from 'axios'\n\nasync function mapEffect() {\n  let response\n\n  try {\n    response = await axios.get('https://corona.lmao.ninja/v2/countries')\n    return response.data\n  } catch (e) {\n    console.log(`Failed to fetch countries: ${e.message}`, e)\n    return\n  }\n}\n\nexport const geoData = async () => {\n  const data = await mapEffect().then((data) => {\n    return data\n  })\n  const hasData = Array.isArray(data) && data.length > 0\n\n  if (!hasData) return\n\n  const geoJson = {\n    type: 'FeatureCollection',\n    features: data.map((country) => {\n      const { countryInfo = {} } = country\n      const { lat, long: lng } = countryInfo\n      return {\n        type: 'Feature',\n        properties: {\n          ...country,\n        },\n        geometry: {\n          type: 'Point',\n          coordinates: [lng, lat],\n        },\n      }\n    }),\n  }\n\n  return geoJson\n}\n","import React, { useState, useEffect } from 'react'\n\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet'\nimport L from 'leaflet'\nimport moment from 'moment'\nimport { geoData } from './helper'\n// import { useToast, Box, Button } from '@chakra-ui/core'\nconst icon = (url) =>\n  new L.icon({\n    iconUrl: 'https://img.icons8.com/color/96/000000/marker.png',\n    iconSize: [25, 25],\n  })\nconst Maps = () => {\n  const [data, updateData] = useState(null)\n\n  // const [pop, activePop] = useState(null);\n  const asyncfun = async () => {\n    return await geoData().then((data) => data)\n  }\n  const position = [51.505, -0.09]\n  const dataMap = () => {\n    asyncfun().then((data) => {\n      console.log(data)\n      updateData(data)\n    })\n  }\n  useEffect(() => {\n    dataMap()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const marker = (prop) => {\n    const properties = prop.properties\n    const date = new Date(properties.updated)\n    let lastUpdated = moment(date).fromNow()\n    return (\n      <Marker\n        icon={icon()}\n        key={properties.country}\n        position={[...prop.geometry.coordinates].reverse()}\n      >\n        <Popup>\n          <div className='markerCustom'>\n            <img\n              src={properties.countryInfo.flag}\n              alt='country flag'\n              style={{ height: 'auto', width: '50%' }}\n            />\n          </div>\n          <br />\n          <div className='countryPopUp'>\n            <li> Total Cases : {properties.cases} </li>\n            <div className='todayAdded'> +{properties.todayCases} </div>\n            <li> Active : {properties.active} </li>\n            <li> Recovered : {properties.recovered} </li>\n            <li> Updated {lastUpdated} </li>\n          </div>\n        </Popup>\n      </Marker>\n    )\n  }\n\n  const map = (\n    <>\n      <div className='map'>\n        <Map center={position} zoom={5}>\n          <TileLayer\n            url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          />\n          {data\n            ? data.features.map((el) => marker(el))\n            : console.log('data not fetched or markers not working')}\n        </Map>\n      </div>\n    </>\n  )\n  return map\n}\nexport default Maps\n","import React, { useEffect, useState } from 'react'\nimport './styles.css'\nimport Graph from './components/visualize'\nimport Maps from './components/Maps'\nimport { ThemeProvider, CSSReset, useToast, Box, Button } from '@chakra-ui/core'\n\nconst App = () => {\n  const [activeComp, setActiveComp] = useState('map')\n  // const Main = () => {\n  //   const toast = useToast()\n\n  //   useEffect(() => {\n  //     toast({\n  //       position: 'bottom-right',\n  //       duration: null,\n  //       isClosable: true,\n  //       render: () => {\n  //         const pathname = window.location.href.split('/').pop()\n  //         return (\n  //           <Box m={3} color='white' p={3} bg='blue.500'>\n  //             <a href={pathname === 'graph' ? '#/' : '#/graph'}>\n  //               {pathname === 'graph' ? 'Map' : 'Visualize'}\n  //             </a>\n  //           </Box>\n  //         )\n  //       },\n  //     })\n  //     // eslint-disable-next-line react-hooks/exhaustive-deps\n  //   }, [])\n\n  //   return <></>\n  // }\n\n  return (\n    <ThemeProvider>\n      <CSSReset />\n      <div className='App'>\n        <div className='app-90'>\n          <Box d='flex' width='100%' height='100%'>\n            <Box width='25%' height='100%' bg='#a53453'>\n              <Button\n                variantColor='teal'\n                variant='solid'\n                onClick={() => setActiveComp('map')}\n              >\n                Map\n              </Button>\n              <Button\n                variantColor='pink'\n                variant='solid'\n                onClick={() => setActiveComp('graph')}\n              >\n                Visualize\n              </Button>\n            </Box>\n            <Box width='75%' height='100%' bg='#445894'>\n              {activeComp === 'map' ? <Maps /> : <Graph />}\n            </Box>\n          </Box>\n        </div>\n        <div className='info-box'>\n          <div className='footnote'>\n            <a href='http://devcj.in'>\n              Built By <span className='highlight'>CJ</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes'\n\nexport const initialState = {}\n\nconst visualizeReducer = (state = initialState, action) => {\n  // console.log(state, action)\n  switch (action.type) {\n    case actionTypes.SET_DATA: {\n      return {\n        ...state,\n        ...action.payload,\n      }\n    }\n\n    default:\n      return state\n  }\n}\nexport default visualizeReducer\n","import * as actionTypes from '../actions/actionTypes'\n\nexport const initialState = {\n  plotData: {\n    data: [\n      { type: 'bar', x: ['a', 'b', 'c'], y: [2, 5, 6] },\n      { type: 'bar', x: ['a', 'b', 'c'], y: [2, 5, 3] },\n    ],\n    layout: {\n      autosize: true,\n      title: 'A sample plot',\n      barmode: 'group',\n      xaxis: {},\n    },\n    frames: [],\n    config: {},\n  },\n}\n\nconst plotReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_PLOT: {\n      return {\n        plotData: {\n          ...action.payload,\n          layout: {\n            ...action.payload.layout,\n            images: [\n              {\n                name: 'watermark_CJ',\n                source: 'https://devcj.in/images/logo.png',\n                xref: 'paper',\n                yref: 'paper',\n                x: 0,\n                y: 0.9,\n                sizex: 0.1,\n                sizey: 0.1,\n                opacity: 0.1,\n                layer: 'below',\n              },\n            ],\n          },\n        },\n      }\n    }\n\n    default:\n      return state\n  }\n}\nexport default plotReducer\n","import * as actionTypes from '../actions/actionTypes'\n\nexport const initialState = {\n  country: '',\n  type: '',\n  CRD: [],\n  scatterType: {},\n  pieDateType: 'single',\n  pieDateSingle: '',\n  xaxisDateDiff: 0,\n  dateRange: [],\n}\n\nconst singleCountryReducer = (state = initialState, action) => {\n  //   console.log(state, action)\n  switch (action.type) {\n    case actionTypes.SET_SingleCountryData: {\n      return {\n        ...state,\n        ...action.payload,\n      }\n    }\n    case actionTypes.SET_singleCountry: {\n      return {\n        ...state,\n        country: action.payload,\n      }\n    }\n    case actionTypes.SET_singleCountry_type: {\n      return {\n        ...state,\n        type: action.payload,\n      }\n    }\n    case actionTypes.SET_singleCountry_CRD: {\n      return {\n        ...state,\n        CRD: action.payload,\n      }\n    }\n    case actionTypes.SET_singleCountry_scatterType: {\n      return {\n        ...state,\n        scatterType: action.payload,\n      }\n    }\n    case actionTypes.SET_singleCountry_pieDateSingle: {\n      return {\n        ...state,\n        pieDateSingle: action.payload,\n      }\n    }\n    case actionTypes.SET_singleCountry_dateRange: {\n      return {\n        ...state,\n        dateRange: action.payload,\n      }\n    }\n\n    case actionTypes.SET_singleCountry_xaxisDateDiff: {\n      return {\n        ...state,\n        xaxisDateDiff: action.payload,\n      }\n    }\n    default:\n      return state\n  }\n}\nexport default singleCountryReducer\n","import { combineReducers } from 'redux'\nimport visualizeReducer from './visualizeReducer'\nimport plotReducer from './plotReducer'\nimport singleCountryReducer from './singleCountryReducer'\n\nexport default combineReducers({\n  visualizeData: visualizeReducer,\n  plotReducer,\n  singleCountryData: singleCountryReducer,\n})\n","import { createStore, applyMiddleware } from 'redux'\nimport reducer from './reducer/'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst middleWare = [thunk]\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(...middleWare))\n)\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}